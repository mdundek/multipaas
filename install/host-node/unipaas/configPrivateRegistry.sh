#!/bin/bash
rm -rf /etc/docker/certs.d/multipaas.registry.com:5000
mkdir -p /etc/docker/certs.d/multipaas.registry.com:5000
cat <<EOT >> /etc/docker/certs.d/multipaas.registry.com:5000/ca.crt
-----BEGIN CERTIFICATE-----
MIIEITCCAwmgAwIBAgIUUjWgfYRAilWssaYUA7JvmvDqB0EwDQYJKoZIhvcNAQEL
BQAwgZ8xCzAJBgNVBAYTAkZSMRAwDgYDVQQIDAdHYXJvbm5lMREwDwYDVQQHDAhU
b3Vsb3VzZTESMBAGA1UECgwJbXVsdGlwYWFzMQ4wDAYDVQQLDAVJVExBQjEfMB0G
A1UEAwwWbXVsdGlwYWFzLnJlZ2lzdHJ5LmNvbTEmMCQGCSqGSIb3DQEJARYXbXVs
dGlwYWFzQG11bHRpcGFhcy5jb20wHhcNMjAwNjE3MTYyOTIzWhcNMjEwNjE3MTYy
OTIzWjCBnzELMAkGA1UEBhMCRlIxEDAOBgNVBAgMB0dhcm9ubmUxETAPBgNVBAcM
CFRvdWxvdXNlMRIwEAYDVQQKDAltdWx0aXBhYXMxDjAMBgNVBAsMBUlUTEFCMR8w
HQYDVQQDDBZtdWx0aXBhYXMucmVnaXN0cnkuY29tMSYwJAYJKoZIhvcNAQkBFhdt
dWx0aXBhYXNAbXVsdGlwYWFzLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCC
AQoCggEBALiV6xDEQSDCuHLzfvEyJHnKUvvJyUt1O0kYT8CZnLHaWUXkZbplmRBm
CyZFYjdXUXmzmaV1ApOQcqP5ymsqaP4hlpJVvuNT4g3TEI8D+BRh00mDZhiDkNOP
ip4ccrQT80+YmVoxlCXDCMKe7iV+C9RzEvw+qZOo5B2Ydfz2NqVwBd+jLUFKCTf3
Yl5OgXllReS/Qe6nMv0YDfxbgQ2lrGY3NItu6+ARkJER9SvYQuNj0iEr5ix4lYm8
VkSggi9Vt0VAtpOF8Q94mmWHOCNqdyj+/G4SHxl0cIbD0F3+MfQqrKe//gOYHSag
jcUDX+XI9mGGtIKC0wQOxD2nEkwBhVECAwEAAaNTMFEwHQYDVR0OBBYEFMs/zx+w
BxcntoaVkgA0h+AnM/FWMB8GA1UdIwQYMBaAFMs/zx+wBxcntoaVkgA0h+AnM/FW
MA8GA1UdEwEB/wQFMAMBAf8wDQYJKoZIhvcNAQELBQADggEBADlBGYXvTEg1Pi2b
qngEpdbIBGeI3GxGj1xcBLYLgSLgZzW578r1x0ueaFZ3ZVoZ6Udc1sHWp5mfYkt4
o/2QJqeA/0S8Lo9vQFavvw4yArERAx8A39ZrqgWnMUiwQgd9GY8iJAiYCiCIqx2f
sIKngyyqBHYPxiJifdRbE2F96dS6wo3pTJ2vfYJQwQo/2i0amqNt8G70iHC5+Fv2
mUiFj4wBoI22lhlPMmSfVdTKzTV/4jeZX6nYQ+ZlsTCVrzIPVAqQcKK8lJg8EMDG
nN67U4pW/TjNXtB/9u5eQ5OB5luJMQRUZvWzfzamgNGLxuFzSQjGR/3ZSXNK94M0
rr9OI1c=
-----END CERTIFICATE-----
EOT
rm -rf /etc/docker/certs.d/registry.multipaas.org
mkdir -p /etc/docker/certs.d/registry.multipaas.org
cat <<EOT >> /etc/docker/certs.d/registry.multipaas.org/ca.crt
-----BEGIN CERTIFICATE-----
MIIEITCCAwmgAwIBAgIUHsN0qig2N3/gjQxEb/CHoIsRFC0wDQYJKoZIhvcNAQEL
BQAwgZ8xCzAJBgNVBAYTAkZSMRAwDgYDVQQIDAdHYXJvbm5lMREwDwYDVQQHDAhU
b3Vsb3VzZTESMBAGA1UECgwJbXVsdGlwYWFzMQ4wDAYDVQQLDAVJVExBQjEfMB0G
A1UEAwwWcmVnaXN0cnkubXVsdGlwYWFzLm9yZzEmMCQGCSqGSIb3DQEJARYXbXVs
dGlwYWFzQG11bHRpcGFhcy5jb20wHhcNMjAwNjE3MTYyOTIzWhcNMjEwNjE3MTYy
OTIzWjCBnzELMAkGA1UEBhMCRlIxEDAOBgNVBAgMB0dhcm9ubmUxETAPBgNVBAcM
CFRvdWxvdXNlMRIwEAYDVQQKDAltdWx0aXBhYXMxDjAMBgNVBAsMBUlUTEFCMR8w
HQYDVQQDDBZyZWdpc3RyeS5tdWx0aXBhYXMub3JnMSYwJAYJKoZIhvcNAQkBFhdt
dWx0aXBhYXNAbXVsdGlwYWFzLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCC
AQoCggEBAOhQZdFbFOgL0AXNLYjaGeK6smErVMT17/C9dN4FFaOrS24HLLRTYQzY
J1vbxajeJIz1dU2mj2LTttiI0FNaEbNMU9x6KNL80Nisa7zp+vYWP3cLhCvQrR02
xmek4e/u6JzglFhpR+hmQnNkO6ff5u9JIZPEeC03KP2ToTht26qgUO+8Umuhtgdv
A+lawj+WyYUUgloKmpHfePU0xM5mo40Khzwz7eHTzdCy6Bw4PZLCAMKx/sK214He
D/Ox1j2W37z0CJ++gp0dGndinTw5nzZ95K6CKHZB531snFch6s9V08ZIkg5iBLfJ
k6mHglNRQd9/ZbBYuZkXkUmXUZU55EsCAwEAAaNTMFEwHQYDVR0OBBYEFO3J8INP
1LEAP64u1PK4oNhuBuDqMB8GA1UdIwQYMBaAFO3J8INP1LEAP64u1PK4oNhuBuDq
MA8GA1UdEwEB/wQFMAMBAf8wDQYJKoZIhvcNAQELBQADggEBACWWT/ErkA44gW6e
stFrFQnmLl9iZh/sYvFs2wML1gr4A5tV9i4nMJJLgq5CfiB/TW5Uu/8lDXCelS48
C/6LXZAauBHpOLAKWAfQ0BJS1eTbXUY0Q/pSs/BWnSdpw+ol6RVGIy93oVMkbMEZ
e42+ecP4bKw7JnOjMvXi6PT6twOO9K3zmIiISYDzZ6/oAkK+qqspTS4WPi708EAB
GFbqkSpqxComuhd3KYH9w7jaiWzlLeEmX8kLKfYZdr8EJQPgM+7RaXDS2gLX4Fbv
Sy4KaoafVYEIfgKzGQA7icRkyF1+i0fg1aUrWRuN6MupYG0RuyJ2VlCFis/i/1/9
3FL3Yp4=
-----END CERTIFICATE-----
EOT
systemctl stop docker && systemctl start docker